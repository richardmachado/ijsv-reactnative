{"ast":null,"code":"Object.defineProperty(exports,\"__esModule\",{value:true});exports.default=void 0;var _core=require(\"@unimodules/core\");var LOCAL_STORAGE_KEY='EXPO_ERROR_RECOVERY_STORAGE';function _consumeRecoveryProps(){if(!_core.Platform.isDOMAvailable)return null;try{var props=localStorage.getItem(LOCAL_STORAGE_KEY);localStorage.removeItem(LOCAL_STORAGE_KEY);return props;}catch(e){}return null;}var _default={get name(){return'ExpoErrorRecovery';},saveRecoveryProps:function saveRecoveryProps(props){if(!_core.Platform.isDOMAvailable)return;try{localStorage.setItem(LOCAL_STORAGE_KEY,props);}catch(e){}},recoveredProps:_consumeRecoveryProps()};exports.default=_default;","map":{"version":3,"sources":["../src/ExpoErrorRecovery.web.ts"],"names":[],"mappings":"gFAAA,sCACA,GAAM,CAAA,iBAAiB,CAAG,6BAA1B,CAEA,QAAS,CAAA,qBAAT,EAA8B,CAC5B,GAAI,CAAC,eAAS,cAAd,CAA8B,MAAO,KAAP,CAC9B,GAAI,CACF,GAAM,CAAA,KAAK,CAAG,YAAY,CAAC,OAAb,CAAqB,iBAArB,CAAd,CACA,YAAY,CAAC,UAAb,CAAwB,iBAAxB,EACA,MAAO,CAAA,KAAP,CACD,CAAC,MAAO,CAAP,CAAU,CAEX,CACD,MAAO,KAAP,CACD,C,aAEc,CACb,GAAI,CAAA,IAAJ,EAAQ,CACN,MAAO,mBAAP,CACD,CAHY,CAKb,iBALa,4BAKK,KALL,CAKkB,CAC7B,GAAI,CAAC,eAAS,cAAd,CAA8B,OAC9B,GAAI,CACF,YAAY,CAAC,OAAb,CAAqB,iBAArB,CAAwC,KAAxC,EACD,CAAC,MAAO,CAAP,CAAU,CAEX,CACF,CAZY,CAcb,cAAc,CAAE,qBAAqB,EAdxB,C","sourcesContent":["import { Platform } from '@unimodules/core';\nconst LOCAL_STORAGE_KEY = 'EXPO_ERROR_RECOVERY_STORAGE';\n\nfunction _consumeRecoveryProps(): string | null {\n  if (!Platform.isDOMAvailable) return null;\n  try {\n    const props = localStorage.getItem(LOCAL_STORAGE_KEY);\n    localStorage.removeItem(LOCAL_STORAGE_KEY);\n    return props;\n  } catch (e) {\n    // Catches localStorage SecurityError https://github.com/expo/expo/issues/8355\n  }\n  return null;\n}\n\nexport default {\n  get name(): string {\n    return 'ExpoErrorRecovery';\n  },\n\n  saveRecoveryProps(props: string): void {\n    if (!Platform.isDOMAvailable) return;\n    try {\n      localStorage.setItem(LOCAL_STORAGE_KEY, props);\n    } catch (e) {\n      // Catches localStorage SecurityError https://github.com/expo/expo/issues/8355\n    }\n  },\n\n  recoveredProps: _consumeRecoveryProps(),\n};\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}